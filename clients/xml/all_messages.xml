<?xml version="1.0" encoding="UTF-8"?>
<xTrainEvents>
    <!-- ===================================================================== -->
    <!-- GROUP A: TRAFFIC & DISPATCHING                                        -->
    <!-- ===================================================================== -->

    <!-- Event: Speed of a locomotive has changed. -->
    <event type="onLocoSpeedChange" timestamp="2024-07-29T10:00:01Z">
        <loco address="3" protocol="DCC" mfxUid="0" />
        <speed speedPercent="50.5" direction="FORWARD" speedSteps="128" />
    </event>

    <!-- Event: A binary function (e.g., lights, smoke) has been toggled. -->
    <event type="onLocoFunctionChange" timestamp="2024-07-29T10:00:05Z">
        <loco address="3" protocol="DCC" />
        <function fIndex="0" isActive="true" />
    </event>

    <!-- Event: An analog function's value has changed (e.g., steam whistle pressure). -->
    <event type="onLocoFunctionAnalogChange" timestamp="2024-07-29T10:00:08Z">
        <loco address="102" protocol="MFX" mfxUid="12345678" />
        <function fIndex="5" value="180" />
    </event>

    <!-- Event: A locomotive has been acquired or released by a throttle. -->
    <event type="onLocoDispatchStateChange" timestamp="2024-07-29T10:01:00Z">
        <loco address="44" protocol="LOCONET" />
        <dispatch isAcquired="true" ownerId="Throttle #3" />
    </event>

    <!-- Event: Two locomotives have been linked in a consist (multi-traction). -->
    <event type="onConsistLink" timestamp="2024-07-29T10:02:00Z">
        <master address="2001" protocol="DCC" />
        <slave address="2002" protocol="DCC" />
        <consist type="ADVANCED_DCC" inverted="false" />
    </event>

    <!-- Event: A locomotive has been removed from a consist. -->
    <event type="onConsistUnlink" timestamp="2024-07-29T10:03:00Z">
        <slave address="2002" protocol="DCC" />
    </event>

    <!-- ===================================================================== -->
    <!-- GROUP B: INFRASTRUCTURE (ACCESSORIES)                                 -->
    <!-- ===================================================================== -->

    <!-- Event: A turnout has changed its state. -->
    <event type="onTurnoutChange" timestamp="2024-07-29T10:03:10Z">
        <turnout address="15" isThrown="true" isFeedback="true" />
    </event>

    <!-- Event: A signal is showing a new aspect. -->
    <event type="onSignalAspectChange" timestamp="2024-07-29T10:03:12Z">
        <signal address="7" aspectId="2" isFeedback="true" /> <!-- Hp2: Langsamfahrt -->
    </event>

    <!-- Event: An accessory's analog value changed (e.g., servo position). -->
    <event type="onAccessoryAnalogValue" timestamp="2024-07-29T10:03:15Z">
        <accessory address="22" value0to1="0.75" />
    </event>

    <!-- Event: An accessory decoder reported a hardware error. -->
    <event type="onAccessoryError" timestamp="2024-07-29T10:03:20Z">
        <accessory address="18" errorId="2" errorMsg="Overload on port 3" />
    </event>

    <!-- Event: An occupancy sensor has changed its state. -->
    <event type="onSensorStateChange" timestamp="2024-07-29T10:04:00Z">
        <sensor sensorId="501" isActive="true" />
    </event>

    <!-- ===================================================================== -->
    <!-- GROUP C: SYSTEM, TIME & TOPOLOGY                                      -->
    <!-- ===================================================================== -->

    <!-- Event: The global track power state has changed. -->
    <event type="onTrackPowerChange" timestamp="2024-07-29T09:59:59Z">
        <power state="ON" />
    </event>

    <!-- Event: The fast clock time has been updated. -->
    <event type="onFastClockUpdated" timestamp="2024-07-29T10:05:00Z">
        <clock modelTimeUnix="1722247500" factor="4.0" /> <!-- July 29, 2024 10:05:00 AM UTC -->
    </event>

    <!-- Event: A new hardware node was detected on the bus. -->
    <event type="onHardwareNodeAttached" timestamp="2024-07-29T10:00:30Z">
        <node nodeUid="BIDIB-0A3B5" productName="LightControl" booster="false" />
    </event>

    <!-- Event: A hardware node has disconnected from the bus. -->
    <event type="onHardwareNodeLost" timestamp="2024-07-29T10:04:00Z">
        <node nodeUid="booster-2" productName="Unknown" booster="true" />
    </event>

    <!-- Event: A generic system message or log entry. -->
    <event type="onSystemMessage" timestamp="2024-07-29T10:05:00Z">
        <message source="PowerManager" message="Emergency stop triggered by user." />
    </event>

    <!-- ===================================================================== -->
    <!-- GROUP D: TELEMETRY & IDENTIFICATION                                   -->
    <!-- ===================================================================== -->

    <!-- Event: A locomotive has been detected on a specific track block. -->
    <event type="onLocoDetectedOnBlock" timestamp="2024-07-29T10:06:15Z">
        <loco address="3" protocol="DCC" />
        <detection sensorId="501" orientation="NORMAL" />
    </event>

    <!-- Event: Telemetry data has been received from a locomotive. -->
    <event type="onLocoTelemetryData" timestamp="2024-07-29T10:06:18Z">
        <loco address="3" protocol="DCC" />
        <telemetry type="SPEED_KMH" value="88.5" />
    </event>

    <!-- Event: The external state of a loco changed (e.g., stopped by ABC). -->
    <event type="onLocoExternalStateChange" timestamp="2024-07-29T10:07:00Z">
        <loco address="99" protocol="DCC" />
        <externalState state="STOPPED_BY_ABC_SIGNAL" />
    </event>

    <!-- Event: Raw/Proprietary RailCom Data. -->
    <event type="onLocoRailComRawData" timestamp="2024-07-29T10:06:00Z">
        <loco address="1024" protocol="DCC" />
        <railcom app="1" data="01A4B7" />
    </event>

    <!-- Event: A new locomotive was discovered (mfx / RailComPlus). -->
    <event type="onNewLocoDiscovered" timestamp="2024-07-29T10:07:00Z">
        <loco mfxUid="12345678" protocol="MFX" address="1" />
        <discovery name="BR 18.5" icon="br18.png" />
    </event>

    <!-- ===================================================================== -->
    <!-- GROUP E: CONFIGURATION & MASS DATA                                    -->
    <!-- ===================================================================== -->

    <!-- Event: A CV read operation has completed. -->
    <event type="onCvReadDone" timestamp="2024-07-29T10:08:30Z">
        <loco address="5" protocol="DCC" />
        <cv cvNumber="5" value="200" success="true" />
    </event>

    <!-- Event: A request to read a CV from a decoder has been issued. -->
    <event type="onCvRead" timestamp="2024-07-29T10:08:00Z">
        <loco address="3" protocol="DCC" />
        <cv cvNumber="5" />
    </event>

    <!-- Event: A request to write a CV to a decoder has been issued. -->
    <event type="onCvWrite" timestamp="2024-07-29T10:09:00Z">
        <loco address="3" protocol="DCC" />
        <cv cvNumber="5" value="128" />
    </event>

    <!-- Event: Result of reading a SUSI configuration register. -->
    <event type="onSusiConfigRead" timestamp="2024-07-29T10:10:00Z">
        <loco address="4" protocol="DCC" />
        <susi bank="1" index="2" value="3" />
    </event>

    <!-- Event: Mass Data Transfer (e.g., icon or sound profile). -->
    <event type="onConfigBlockLoad" timestamp="2024-07-29T10:11:00Z">
        <loco address="5" protocol="DCC" />
        <config domain="ICON" data="89504e47" />
    </event>

    <!-- Event: A progress update for a long-running operation. -->
    <event type="onProgressUpdate" timestamp="2024-07-29T10:09:05Z">
        <progress operation="Reading Decoder CVs" percent="25.0" />
    </event>

    <!-- ===================================================================== -->
    <!-- GROUP F: REAL-TIME SYNCHRONIZATION (v2.3+)                            -->
    <!-- ===================================================================== -->

    <!-- Event: A mechanical synchronization event occurred. -->
    <event type="onLocoSyncEvent" timestamp="2024-07-29T10:12:00Z">
        <loco address="6" protocol="DCC" />
        <sync type="CAM_PULSE" value="1" />
    </event>

</xTrainEvents>
